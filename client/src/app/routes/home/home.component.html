<mat-toolbar color="primary">
  <span class="cursor-default"
        routerLink="/">Documentation</span>
  <span fxFlex></span>
  <button mat-icon-button
          class="el8"
          (click)="themer.toggleTheme()">
    <mat-icon *ngIf="themer.isLight"
              color="accent">brightness_5</mat-icon>
    <mat-icon *ngIf="!(themer.isLight)">brightness_3</mat-icon>
  </button>
</mat-toolbar>
<ng-template #loading>
  <p>Loading...</p>
</ng-template>
<ng-container *ngIf="content.folder$ | async as folder else loading">
  <section fxLayout="row"
           fxLayoutAlign="start stretch"
           [style.height.%]="100">
    <section fxLayout="column"
             fxLayoutAlign="start stretch"
             class="px4 pb8 mr4"
             [style.margin-bottom.px]="64">
      <section *ngIf="expanded"
               [style.min-width.px]="256">
        <section fxLayout="row"
                 fxLayoutAlign="start center"
                 class="px4 py2 mb8">
          <p class="mat-title"
             fxFlex
             [style.margin.px]="0">Directory</p>
          <button mat-icon-button
                  matTooltip="Navigate Up"
                  [disabled]="!(folder?.breadcrumbs?.length > 0)"
                  (click)="navigateUp(folder)">
            <mat-icon>subdirectory_arrow_left</mat-icon>
          </button>
          <button routerLink="/"
                  mat-icon-button
                  matTooltip="Home"
                  [disabled]="!(folder?.breadcrumbs?.length > 0)">
            <mat-icon>home</mat-icon>
          </button>
        </section>
        <section class="p8">
          <folder [folder]="folder"
                  [size]="10"
                  (documentSelected)="selectDocument($event)"
                  (folderSelected)="selectFolder($event)"></folder>
        </section>
      </section>
      <span fxFlex></span>
      <section fxFlexAlign="end">
        <button mat-icon-button
                class="el2"
                matTooltip="Expand"
                *ngIf="!expanded"
                (click)="toggleExpanded()">
          <mat-icon>keyboard_arrow_right</mat-icon>
        </button>
        <button mat-icon-button
                class="el2"
                matTooltip="Collapse"
                *ngIf="expanded"
                (click)="toggleExpanded()">
          <mat-icon>keyboard_arrow_left</mat-icon>
        </button>
      </section>
    </section>
    <ng-container *ngIf="markdown">
      <section [innerHtml]="markdown"
               class="p4 pt12 overflow"
               fxFlex
               [style.margin-bottom.px]="64"></section>
    </ng-container>
    <p *ngIf="!(markdown)">Select a Markdown document to render!</p>
  </section>
</ng-container>
