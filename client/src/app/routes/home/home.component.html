<ng-template #loading>
  <mat-progress-bar mode="indeterminant"
                    color="accent"></mat-progress-bar>
</ng-template>
<section fxLayout="row"
         fxLayoutAlign="start stretch"
         [style.height.%]="100">
  <section fxLayout="column"
           fxLayoutAlign="start stretch"
           class="px4 pb8 mr4">
    <ng-container *ngIf="folder else loading">
      <section *ngIf="expanded"
               [style.min-width.px]="256">
        <sidemenu [folder]="folder"
                  [navDisabled]="!(folder?.breadcrumbs?.length > 0)"
                  [homeDisabled]="!(folder?.breadcrumbs?.length > 0)"
                  [isLight]="themer.isLight"
                  (navigate)="navigateUp($event)"
                  (theme)="themer.toggleTheme()"></sidemenu>
        <section class="p8">
          <folder [folder]="folder"
                  [size]="10"
                  (documentSelected)="selectDocument($event)"
                  (folderSelected)="selectFolder($event)"></folder>
        </section>
      </section>
    </ng-container>
    <span fxFlex></span>
    <toggle fxFlexAlign="end"
            [active]="expanded"
            (toggle)="toggleExpanded()"></toggle>
  </section>
  <section id="renderOutlet"
           class="overflow"
           [ngClass]="document && 'p4 pt12'"
           [fxFlex]="document ? '100%' : '0'"></section>
  <p *ngIf="!(document)">Select a Markdown document to render!</p>
</section>
